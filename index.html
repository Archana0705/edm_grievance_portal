<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>e-Sevai Grievance Portal — Split Layout</title>

  <!-- Bootstrap 5.3 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- jQuery -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- AOS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">

  <style type="text/css">
    .front-face .card, .card-inner .card {
    border: 0;
}
    /* Flip CSS */
    .flip-container { perspective: 1000px; }
    .flipper {
      transition: 0.8s;
      transform-style: preserve-3d;
      position: relative;
      min-height: 420px; /* prevents collapse so faces remain visible */
    }
    .front-face, .back-face {
      backface-visibility: hidden;
      position: absolute;
      width: 100%;
      top: 0;
      left: 0;
      padding: 0; /* content already padded inside */
      box-sizing: border-box;
    }
    .front-face { z-index: 2; transform: rotateY(0deg); }
    .back-face { transform: rotateY(180deg); }
    .flip-container.flipped .flipper { transform: rotateY(180deg); }

    /* Basic page styling (kept from your design) */
    :root{
      --card-bg: #ffffff;
      --muted: #6c757d;
      --primary: #0d6efd;
      --accent: #4da6ff;
      --soft: #f7fbff;
    }
    body{
      font-family: 'Segoe UI', Roboto, Arial, sans-serif;
      background-color: var(--soft);
      background-image:
        linear-gradient(135deg, rgba(255,255,255,0.9) 25%, rgba(0,0,0,0.01) 25%, rgba(0,0,0,0.01) 50%, rgba(255,255,255,0.9) 50%, rgba(255,255,255,0.9) 75%, rgba(0,0,0,0.01) 75%, rgba(0,0,0,0.01) 100%),
        radial-gradient(circle at 1px 1px, rgba(0,0,0,0.03) 1px, transparent 1px);
      background-size: 12px 12px, 8px 8px;
      padding: 40px 20px;
    }

    .portal-header { display:flex; align-items:center; gap:12px; margin-bottom:18px; }
    .portal-title { font-weight:700; font-size:1.35rem; color:#0b5ed7; margin:0; }
    .portal-sub { color:var(--muted); margin:0; font-size:0.95rem; }

    .split-row { display: flex; flex-wrap: wrap; gap: 20px; align-items: stretch; }

    .left-card {
      flex: 1;
      display: flex;
      justify-content: center;
/*      align-items: center;*/
      background: #ffffff;
      box-shadow: 0 6px 18px rgba(10, 20, 40, 0.04);
      border-radius: 12px;
      padding: 20px;
    }

    .card-inner { width: 100%; max-width: 340px; }

    .brief-panel { flex: 1; display: flex; flex-direction: column; justify-content: center; }

    .step-icon { font-size: 38px; color: var(--primary); margin-bottom: 12px; }

    .otp-input { width: 50px; height: 55px; text-align: center; font-size: 22px; margin: 6px; border-radius: 10px; }

    .form-control, .form-select { border-radius: 10px; padding: 10px 12px; font-size: 0.95rem; }

    .btn { border-radius: 12px; font-weight: 600; padding: 10px 14px; }

    .brief-panel {
      position: sticky;
      top: 30px;
      border-radius: 14px;
      padding: 20px;
      background: #ffffff;
      box-shadow: 0 6px 18px rgba(10,20,40,0.04);
      border: 1px solid rgba(13,110,253,0.04);
    }

    .brief-heading { color: #07346b; font-weight: 700; margin-bottom: 6px; }
    .brief-sub { color: var(--muted); font-size: 0.95rem; margin-bottom: 16px; }

    .activity-list { display: grid; grid-template-columns: 1fr; gap: 12px; }

    .activity { display:flex; gap:12px; align-items:center; padding: 10px; border-radius: 10px; transition: transform .18s ease, box-shadow .18s ease; cursor: default; }
    .activity:hover { transform: translateY(-4px); box-shadow: 0 10px 20px rgba(15,23,42,0.06); }

    .activity .icon { min-width:48px; min-height:48px; border-radius:12px; display:flex; align-items:center; justify-content:center; background: linear-gradient(135deg, rgba(13,110,253,0.08), rgba(77,166,255,0.06)); color: var(--primary); font-size: 20px; }
    .activity .title { font-weight:600; margin:0; color:#0b5ed7; font-size:0.99rem; }
    .activity .desc { margin:0; font-size:0.85rem; color:var(--muted); }

    .brief-cta { margin-top: 16px; display:flex; gap:10px; align-items:center; }
    .help-block { font-size:0.85rem; color:var(--muted); }

    @media(max-width:991px){ .card-inner { max-width: 100%; } .brief-panel { position: relative; top: auto; } }
  </style>
</head>
<body>

  <div class="container">
    <div class="portal-header mb-3">
      <div>
        <h1 class="portal-title">e-Sevai Grievance Portal</h1>
        <p class="portal-sub mb-0">Mobile login • Raise grievances • Track requests</p>
      </div>
    </div>

    <div class="split-row">

      <!-- LEFT: flip/login -->
      <div class="left-card" data-aos="fade-right">
        <div class="card-inner">

          <!-- Flip container -->
          <div class="flip-container">
            <div class="flipper">

              <!-- FRONT: Sign in -->
              <div class="front-face">
                <div class="card p-0 text-center">

                  <!-- Screen 1: Mobile -->
                  <div class="screen screen1">
                    <i class="fa-solid fa-mobile-screen step-icon"></i>
                    <h4 class="mb-3">Citizen Login – Mobile</h4>
                    <div class="mb-3 text-start">
                      <label class="form-label fw-semibold">Mobile Number</label>
                      <input type="text" class="form-control mobileInput" placeholder="Enter mobile number">
                      <small class="form-text text-muted">OTP will be sent to your number.</small>
                      <div class="invalid-feedback">Please enter a valid 10-digit mobile number.</div>
                    </div>
                    <button class="btn btn-primary w-100 continueBtn">Continue</button>
                    <div class="mt-3"><a href="#" class="newRegister">New user? Register here</a></div>
                  </div>

                  <!-- Screen 2: OTP -->
                  <div class="screen screen2" style="display:none;">
                    <i class="fa-solid fa-key step-icon"></i>
                    <h4 class="mb-3">Verify OTP</h4>
                    <div class="d-flex justify-content-center mb-3">
                      <input type="text" maxlength="1" class="otp-input form-control">
                      <input type="text" maxlength="1" class="otp-input form-control">
                      <input type="text" maxlength="1" class="otp-input form-control">
                      <input type="text" maxlength="1" class="otp-input form-control">
                      <input type="text" maxlength="1" class="otp-input form-control">
                      <input type="text" maxlength="1" class="otp-input form-control">
                    </div>
                    <p class="text-muted"><span class="otpTimer">Resend OTP in 02:00</span></p>
                    <button class="btn btn-success w-100 next2">Verify OTP</button>
                  </div>

                </div>
              </div>

              <!-- BACK: Register -->
              <div class="back-face">
                <div class="card-inner">
                  <div class="card p-0 text-center">

                    <!-- Screen 1 (Register mobile) -->
                    <div class="screen screen1">
                      <i class="fa-solid fa-mobile-screen step-icon"></i>
                      <h4 class="mb-3">Register – Mobile</h4>
                      <div class="mb-3 text-start">
                        <label class="form-label fw-semibold">Mobile Number</label>
                        <input type="text" class="form-control mobileInput" placeholder="Enter mobile number">
                        <small class="form-text text-muted">OTP will be sent to your number.</small>
                        <div class="invalid-feedback">Please enter a valid 10-digit mobile number.</div>
                      </div>
                      <button class="btn btn-primary w-100 continueBtn">Continue</button>
                    </div>

                    <!-- Screen 2: OTP (register) -->
                    <div class="screen screen2" style="display:none;">
                      <i class="fa-solid fa-key step-icon"></i>
                      <h4 class="mb-3">Verify OTP</h4>
                      <div class="d-flex justify-content-center mb-3">
                        <input type="text" maxlength="1" class="otp-input form-control">
                        <input type="text" maxlength="1" class="otp-input form-control">
                        <input type="text" maxlength="1" class="otp-input form-control">
                        <input type="text" maxlength="1" class="otp-input form-control">
                        <input type="text" maxlength="1" class="otp-input form-control">
                        <input type="text" maxlength="1" class="otp-input form-control">
                      </div>
                      <p class="text-muted"><span class="otpTimer">Resend OTP in 02:00</span></p>
                      <button class="btn btn-success w-100 next2">Verify OTP</button>
                    </div>

                    <!-- Screen 3: Profile creation (register only) -->
                    <div class="screen screen3" style="display:none;">
                      <!-- <i class="fa-solid fa-user step-icon"></i> -->
                      <h4 class="mb-3">Citizen Profile Creation</h4>

                      <input type="text" id="nameField" class="form-control mb-2" placeholder="Enter your Name" required>
                      <select id="genderField" class="form-select mb-2" required>
                        <option value="">Select Gender</option>
                        <option>Male</option>
                        <option>Female</option>
                        <option>Other</option>
                      </select>
                      <input type="text" id="mobileField" class="form-control mb-2" readonly>
                      <select id="districtField" class="form-select mb-2" required>
                        <option value="">Select District</option>
                        <option>Coimbatore</option>
                        <option>Madurai</option>
                      </select>
                      <input type="email" id="emailField" class="form-control mb-3" placeholder="Enter your Email (optional)">

                      <!-- Declaration -->
                      <div class="alert alert-light border rounded-3 shadow-sm p-3 mb-4" role="alert">
                        <div class="d-flex align-items-start">
                          <i class="fa-solid fa-circle-info text-primary fs-4 me-3"></i>
                          <div>
                            <h6 class="fw-bold mb-2">Declaration</h6>
                            <p class="mb-2 small text-muted">
                              I hereby declare that the information provided in this portal is true and correct to the best of my knowledge.
                            </p>
                            <div class="form-check">
                              <input class="form-check-input" type="checkbox" id="declarationCheck">
                              <label class="form-check-label small" for="declarationCheck">I agree to the terms</label>
                            </div>
                          </div>
                        </div>
                      </div>

                      <button class="btn btn-primary w-100 mb-3 next3">Continue</button>
                    </div>

                  </div>
                </div>

                <div class="mt-0 text-center"><a href="#" class="backToLogin">Back to Login</a></div>
              </div>

            </div> <!-- .flipper -->
          </div> <!-- .flip-container -->

        </div>
      </div>

      <!-- RIGHT: brief -->
     <aside class="brief-panel aos-init aos-animate" data-aos="fade-left">
          <div>
            <h3 class="brief-heading">What you can do</h3>
            <p class="brief-sub">Quick actions &amp; services available to every citizen. Simple steps — faster resolution.</p>
            <div class="activity-list">
              <div class="activity aos-init aos-animate" data-aos="fade-up" data-aos-delay="50">
                <div class="icon"><i class="fa-solid fa-ticket"></i></div>
                <div>
                  <p class="title mb-0">Raise a Grievance</p>
                  <p class="desc mb-0">Create a ticket for service issues, apply corrections or report problems.</p>
                </div>
              </div>
              <div class="activity aos-init aos-animate" data-aos="fade-up" data-aos-delay="100">
                <div class="icon"><i class="fa-solid fa-circle-check"></i></div>
                <div>
                  <p class="title mb-0">Track Ticket Status</p>
                  <p class="desc mb-0">Monitor progress of your requests and get timely updates.</p>
                </div>
              </div>
              <div class="activity aos-init aos-animate" data-aos="fade-up" data-aos-delay="150">
                <div class="icon"><i class="fa-solid fa-phone"></i></div>
                <div>
                  <p class="title mb-0">Helpline &amp; Support</p>
                  <p class="desc mb-0">Access dedicated helpline numbers and escalation options.</p>
                </div>
              </div>
              <div class="activity aos-init aos-animate" data-aos="fade-up" data-aos-delay="200">
                <div class="icon"><i class="fa-solid fa-file-arrow-up"></i></div>
                <div>
                  <p class="title mb-0">Upload Documents</p>
                  <p class="desc mb-0">Attach supporting documents for faster verification.</p>
                </div>
              </div>
              <div class="activity aos-init aos-animate" data-aos="fade-up" data-aos-delay="250">
                <div class="icon"><i class="fa-solid fa-users"></i></div>
                <div>
                  <p class="title mb-0">Community Feedback</p>
                  <p class="desc mb-0">Share suggestions and see community responses.</p>
                </div>
              </div>
            </div>
            <div class="brief-cta">
              <a href="#" class="btn btn-outline-primary w-100"><i class="fa-solid fa-plus me-2"></i>Raise Grievance</a>
            </div>
            <div class="mt-3 help-block">
              <strong>Tip:</strong> Keep your mobile active to receive OTPs. For documents, ensure files are under 1MB for faster upload.
            </div>
          </div>
        </aside>
    </div>
  </div>

  <!-- AOS JS -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

  <!-- Script: simplified flow (no OTP logic) -->
<script>
$(function () {
  AOS.init({ duration: 420, once: true });

  // helper: validate indian mobile
  function isValidMobile(num) {
    return /^[6-9]\d{9}$/.test(num || "");
  }

  // initialize: show screen1 on both faces
  $(".front-face .screen, .back-face .screen").hide();
  $(".front-face .screen1, .back-face .screen1").show();

  // flip handlers
  $(document).on("click", ".newRegister", function (e) {
    e.preventDefault();
    $(".flip-container").addClass("flipped");
    $(".back-face .screen").hide();
    $(".back-face .screen1").show();
  });
  $(document).on("click", ".backToLogin", function (e) {
    e.preventDefault();
    $(".flip-container").removeClass("flipped");
    $(".front-face .screen").hide();
    $(".front-face .screen1").show();
  });

  // Continue (mobile -> OTP) - both faces
  $(document).on("click", ".continueBtn", function (e) {
    e.preventDefault();
    const $face = $(this).closest(".front-face, .back-face");
    const $mobile = $face.find(".mobileInput").first();
    const mobile = ($mobile.val() || "").trim();

    if (!isValidMobile(mobile)) {
      $mobile.addClass("is-invalid");
      return;
    }
    $mobile.removeClass("is-invalid");

    // just show OTP UI
    $face.find(".screen").hide();
    $face.find(".screen2").fadeIn();
  });

  // OTP → Next step (Sign In → Dashboard | Sign Up → Profile)
  $(document).on("click", ".next2", function (e) {
    e.preventDefault();
    const $face = $(this).closest(".front-face, .back-face");

    if ($face.hasClass("front-face")) {
      // Sign In → Dashboard
      window.location.href = "dashboard.html";
    } else {
      // Sign Up → Profile Creation
      $face.find(".screen").hide();
      $face.find(".screen3").fadeIn();

      // autofill mobile
      const m = $face.find(".mobileInput").first().val() || "";
      $face.find("#mobileField").val(m);
    }
  });

  // Profile creation (register) → Dashboard
  $(document).on("click", ".next3", function (e) {
    e.preventDefault();
    const $face = $(this).closest(".back-face");

    // basic validations
    const name = $face.find("#nameField").val() || "";
    const gender = $face.find("#genderField").val() || "";
    if (name.trim() === "") { alert("Please enter your name."); return; }
    if (!gender) { alert("Please select gender."); return; }

    const $decl = $face.find("#declarationCheck");
    if ($decl.length && !$decl.is(":checked")) {
      alert("Please agree to the declaration.");
      return;
    }

    alert("Profile created successfully!");
    window.location.href = "dashboard.html";
  });

  // remove invalid state as user types
  $(document).on("input", ".mobileInput", function () {
    if (isValidMobile($(this).val().trim())) $(this).removeClass("is-invalid");
  });
});
</script>


</body>
</html>
